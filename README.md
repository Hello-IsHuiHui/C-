# 这里是全国大学生数学建模大赛2024年C题农作物的种植策略题目思路详解

## 问题一：

### 假定各种农作物未来的预期销售量、种植成本、亩产量和销售价格相对于2023年保持稳定，每季种植的农作物在当季销售。如果某种作物每季的总产量超过相应的预期销售量，超过部分不能正常销售。请针对以下两种情况，分别给出该乡村2024~2030年农作物的最优种植方案，将结果分别填入result1_1.xlsx和result1_2.xlsx中（模板文件见附件3）。

### (1) 超过部分滞销，造成浪费；(2) 超过部分按2023年销售价格的50%降价出售。

#### 问题一思路分析：

1. 进行数据预处理，获取相关的地块信息以及各种农作物的参数及种植数量。
2. 检查数据缺失值、异常值、重复值
3. 定义决策变量
4. 建立目标函数
5. 统计约束条件
6. 建立目标规划模型
7. 求解模型

- 经过数据处理与检验，发现数据不存在缺失值，也不存在异常值，数据量真实，数据可以存在重复值。
- 定义决策变量： 第i块地块第j个种植作物第t年第s季的种植面积
- 建立目标函数：max Y = Σ(2024-2030)Σ(1-41)(θj,t + μj,t - φt,j)

  - 在2024年到2030年期间，要使41种作物的总利润（包括正常销售收入和超额销售收入，减去种植成本）最大化。
- 统计约束条件：

  1. 面积约束：每块种植地块种植作物的面积不得超过种植地块的面积
  2. 水浇地作物约束：水浇地只能种一季水稻或者两季蔬菜
  3. 轮作约束：每种作物在同一个地块不能连续重复种植
  4. 季节性约束：食用菌类只能种植在第二季的普通大棚里，白萝卜、大白菜、红萝卜只能种植在水浇地的第二季，平旱地、梯田每年只能种植一季粮食类作物(除水稻外)
  5. 种植规模约束：每种作物每季的种植地块不能太分散
  6. 最小种植面积约束：每种作物在单个地块种植的面积不宜太小
  7. 智慧大棚约束：智慧大棚每年可种植两季蔬菜(除特定品种外)
  8. 豆类作物约束：每个地块所有土地三年内至少种植一次豆类作物
  9. 区域种植限制：除水稻外，一季粮食类作物只能种植在平旱地、梯田和山坡地
  10. 普通大棚种植规则：普通大棚每年第一季种植多种蔬菜（大白菜、白萝卜、红萝卜除外），第二季种植食用菌
  11. 水浇地作物限制：水浇地第二季白萝卜、大白菜、红萝卜种植约束
  12. 特殊地块约束：当Mi,t = 0时，表示水浇地种植一季水稻；当Mi,t = 1时，表示水浇地种植两季蔬菜。
  13. 连续性约束：每块地在相邻季节之间的种植要求：
      不能在同一地块连续重复种植同一作物
      要考虑作物生长周期与季节衔接
      确保土地利用的合理性和可持续性
- 求解模型：通过pulp或者gurobi求解，这里我们采用gurobi优化器求解目标规划类问题。

  - gurobi优化器需要以下步骤：
    1. 进入官网[gurobi官网](https://www.gurobi.com/downloads/)
    2. 注册账户
    3. 下载合适的gurobi版本（windows、macos、linux）
    4. 运行下载的安装程序
    5. 安装完成后获取许可证，前往官网获取许可证。
    6. 激活许可证：
       - 在命令提示符中运行 `grbgetkey YOUR-LICENSE-KEY-HERE`
    7. 配置环境变量
    8. 通过 `pip install gurobipy`安装接口
